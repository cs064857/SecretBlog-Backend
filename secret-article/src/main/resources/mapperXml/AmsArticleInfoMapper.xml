<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.shijiawei.secretblog.article.mapper.AmsArtinfoMapper">
    <resultMap id="AmsArtinfoBaseResultMap" type="com.shijiawei.secretblog.article.entity.AmsArtinfo">
        <id column="id" property="id" jdbcType="BIGINT"/>
        <result column="user_name" property="userName" jdbcType="VARCHAR"/>
        <result column="article_id" property="articleId" jdbcType="BIGINT"/>
        <result column="user_id" property="userId" jdbcType="BIGINT"/>
        <result column="create_time" property="createTime" jdbcType="TIMESTAMP"/>
        <result column="update_time" property="updateTime" jdbcType="TIMESTAMP"/>
        <result column="deleted" property="deleted" jdbcType="INTEGER"/>
        <result column="category_id" property="categoryId" jdbcType="BIGINT"/>
    </resultMap>

<!--    判斷文章是否屬於該作者, 參數值 articleId 與 userId-->
    <select id="isArticleOwner" resultType="int">
        SELECT count(0)
        FROM ams_artInfo
        WHERE article_id = #{articleId} AND user_id = #{userId}
    </select>



</mapper>